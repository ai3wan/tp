# handlers/modules/day_1_module_1.py

from aiogram import Router, F
from aiogram.types import Message, ReplyKeyboardMarkup, KeyboardButton
from aiogram.fsm.context import FSMContext
from aiogram.fsm.state import State, StatesGroup

router = Router()

class Day1Module1States(StatesGroup):
    """–°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –î–Ω—è 1, –ú–æ–¥—É–ª—è 1 - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥."""
    step_1 = State()  # –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
    step_2 = State()  # –¢—Ä–µ–≤–æ–≥–∞ –∫–∞–∫ —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è
    step_3 = State()  # –ú–æ–∑–≥ –∏ –∑–∞—â–∏—Ç–∞
    step_4 = State()  # –ü—Ä–∏–º–µ—Ä —Å —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ–º
    step_5 = State()  # –¢—Ä–µ–≤–æ–≥–∞ –Ω–µ —Å–ª–∞–±–æ—Å—Ç—å
    step_6 = State()  # –ü–µ—Ä–µ–±–∞—Ä—â–∏–≤–∞–µ—Ç —Ç—Ä–µ–≤–æ–≥–∞
    step_7 = State()  # –î—Ä—É–∂–∏—Ç—å —Å —Ç—Ä–µ–≤–æ–≥–æ–π
    step_8 = State()  # –î—ã—Ö–∞–Ω–∏–µ –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
    step_9 = State()  # –î—ã—Ö–∞–Ω–∏–µ –∏ —Ç—Ä–µ–≤–æ–≥–∞
    step_10 = State()  # –ü—Ä–∞–∫—Ç–∏–∫–∞ –¥—ã—Ö–∞–Ω–∏—è
    step_11 = State()  # –í–∏–¥–µ–æ –ø—Ä–∞–∫—Ç–∏–∫–∏
    step_12 = State()  # –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏
    step_13 = State()  # –í—ã–≤–æ–¥ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

def get_step_keyboard(step: int) -> ReplyKeyboardMarkup:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —à–∞–≥–∞ –¥–∏–∞–ª–æ–≥–∞."""
    keyboards = {
        1: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="üëç –î–∞, –ø–æ–µ—Ö–∞–ª–∏")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        2: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="üö® –¢—Ä–µ–≤–æ–≥–∞ –∫–∞–∫ —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        3: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="üëÄ –û–ø–∞—Å–Ω–æ—Å—Ç—å, –≥–¥–µ –µ—ë –Ω–µ—Ç")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        4: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="üòÖ –ë—ã–ª–æ —Ç–∞–∫–æ–µ")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        5: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="üí™ –¢—Ä–µ–≤–æ–≥–∞ ‚Äî –Ω–µ —Å–ª–∞–±–æ—Å—Ç—å")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        6: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="üôÉ –ü–µ—Ä–µ–±–∞—Ä—â–∏–≤–∞–µ—Ç —Ç—Ä–µ–≤–æ–≥–∞")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        7: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="ü§î –î—Ä—É–∂–∏—Ç—å —Å —Ç—Ä–µ–≤–æ–≥–æ–π")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        8: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="üå¨Ô∏è –î—ã—Ö–∞–Ω–∏–µ ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        9: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="üîÅ –ó–∞–º–µ–¥–ª–∏—Ç—å –¥—ã—Ö–∞–Ω–∏–µ")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        10: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="‚è±Ô∏è –í–¥–æ—Ö 4 ‚Äî –≤—ã–¥–æ—Ö 6")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        11: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="üòä –°—Ç–∞–ª–æ —Å–ø–æ–∫–æ–π–Ω–µ–µ")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        12: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="üåø –õ—É—á—à–µ")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        13: ReplyKeyboardMarkup(
            keyboard=[
                [KeyboardButton(text="‚öñÔ∏è –¢—Ä–µ–≤–æ–≥–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–∏–≥–Ω–∞–ª")],
                [KeyboardButton(text="üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")]
            ],
            resize_keyboard=True
        ),
        # –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è step_14 —É–±—Ä–∞–Ω–∞, —Ç–∞–∫ –∫–∞–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
    }
    return keyboards.get(step, ReplyKeyboardMarkup(keyboard=[], resize_keyboard=True))

@router.message(F.text == "‚ñ∂Ô∏è –î–µ–Ω—å 1, –ú–æ–¥—É–ª—å 1")
async def start_day_1_module_1(message: Message, state: FSMContext):
    """–ó–∞–ø—É—Å–∫–∞–µ—Ç –î–µ–Ω—å 1, –ú–æ–¥—É–ª—å 1 - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥."""
    await state.set_state(Day1Module1States.step_1)
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
    import os
    from aiogram.types import FSInputFile
    
    image_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))), "assets", "d1m1_1.jpg")
    image_file = FSInputFile(image_path)
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–¢—Ä–µ–≤–æ–≥–∞ ‚Äî —ç—Ç–æ –∫–∞–∫ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–∞—Ç—á–∏–∫ –¥—ã–º–∞ –≤ –¥–æ–º–µ. –û–Ω —Ä–µ–∞–≥–∏—Ä—É–µ—Ç, –∫–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫. –ò–Ω–æ–≥–¥–∞ —Å–∏–≥–Ω–∞–ª —Å–ª–∏—à–∫–æ–º –≥—Ä–æ–º–∫–∏–π –∏–ª–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ –≤–æ–≤—Ä–µ–º—è, –Ω–æ —Å–∞–º —Ñ–∞–∫—Ç —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω –µ—Å—Ç—å, ‚Äî —ç—Ç–æ –±–ª–∞–≥–æ. –ü—Ä–µ–¥—Å—Ç–∞–≤—å —Å–µ–±–µ –¥–æ–º –±–µ–∑ —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî –±—ã–ª–æ –±—ã –æ–ø–∞—Å–Ω–æ.

–ù–µ–π—Ä–æ–±–∏–æ–ª–æ–≥–∏ –æ–±—ä—è—Å–Ω—è—é—Ç —Ç—Ä–µ–≤–æ–≥—É —á–µ—Ä–µ–∑ —Ä–∞–±–æ—Ç—É –∞–º–∏–≥–¥–∞–ª—ã ‚Äî —É—á–∞—Å—Ç–∫–∞ –º–æ–∑–≥–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–≤—ã–º ¬´–ø–æ–¥–Ω–∏–º–∞–µ—Ç —Ç—Ä–µ–≤–æ–≥—É¬ª. –î–∞–∂–µ —É —Å–∞–º—ã—Ö —É–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ª—é–¥–µ–π –∞–º–∏–≥–¥–∞–ª–∞ –∞–∫—Ç–∏–≤–Ω–∞, –ø—Ä–æ—Å—Ç–æ —É –Ω–∏—Ö –ª—É—á—à–µ —Ä–∞–∑–≤–∏—Ç–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –µ—ë ¬´—É—Å–ø–æ–∫–∞–∏–≤–∞—Ç—å¬ª —Å –ø–æ–º–æ—â—å—é –ø—Ä–µ—Ñ—Ä–æ–Ω—Ç–∞–ª—å–Ω–æ–π –∫–æ—Ä—ã ‚Äî —Ç–æ–π —á–∞—Å—Ç–∏ –º–æ–∑–≥–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ª–æ–≥–∏–∫—É –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å. –ò–º–µ–Ω–Ω–æ —ç—Ç—É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –º—ã –∏ –±—É–¥–µ–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å."""
    
    main_text = "–ü—Ä–∏–≤–µ—Ç üëã –°–µ–≥–æ–¥–Ω—è –º—ã –Ω–∞—á–∏–Ω–∞–µ–º –Ω–∞—à –∫—É—Ä—Å. –ü–µ—Ä–≤–æ–µ, —á—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å: —Ç—Ä–µ–≤–æ–≥–∞ ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å –∂–∏–∑–Ω–∏ –∫–∞–∂–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞. –û–Ω–∞ –±—ã–≤–∞–µ—Ç —É –≤—Å–µ—Ö, –¥–∞–∂–µ —É —Å–∞–º—ã—Ö —É–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ª—é–¥–µ–π. –ì–æ—Ç–æ–≤ —É–∑–Ω–∞—Ç—å, –∫–∞–∫ —Å –Ω–µ–π –æ–±—Ä–∞—â–∞—Ç—å—Å—è?"
    
    full_caption = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    await message.answer_photo(
        photo=image_file,
        caption=full_caption,
        parse_mode="HTML",
        reply_markup=get_step_keyboard(1)
    )

# –®–∞–≥ 1 -> –®–∞–≥ 2
@router.message(Day1Module1States.step_1, F.text == "üëç –î–∞, –ø–æ–µ—Ö–∞–ª–∏")
async def step_1_to_2(message: Message, state: FSMContext):
    """–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–≥–∞ 1 –∫ —à–∞–≥—É 2."""
    await state.set_state(Day1Module1States.step_2)
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
    import os
    from aiogram.types import FSInputFile
    
    image_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))), "assets", "d1m1_2.jpg")
    image_file = FSInputFile(image_path)
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–ï—Å–ª–∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –º–æ–∑–≥ –∫–∞–∫ ¬´—Ü–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—ë—Ç–∞–º–∏¬ª, —Ç–æ —Ç—Ä–µ–≤–æ–≥–∞ ‚Äî —ç—Ç–æ —Ä–∞–¥–∞—Ä. –û–Ω –ª–æ–≤–∏—Ç –º–∞–ª–µ–π—à–∏–µ —Å–∏–≥–Ω–∞–ª—ã –æ–± –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Å–æ–æ–±—â–∞–µ—Ç: ¬´–í–Ω–∏–º–∞–Ω–∏–µ! –ì–æ—Ç–æ–≤—å—Å—è –∫ –¥–µ–π—Å—Ç–≤–∏—é¬ª. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ —ç—Ç–æ—Ç —Ä–∞–¥–∞—Ä –Ω–µ —É–º–µ–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å ¬´–ø—Ç–∏—Ü—É¬ª –æ—Ç ¬´—Ä–∞–∫–µ—Ç—ã¬ª ‚Äî –∏ —Ç—Ä–µ–≤–æ–≥–∞ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –¥–∞–∂–µ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ —É–≥—Ä–æ–∑—ã –Ω–µ—Ç.

–≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ç–µ–º, —á—Ç–æ —ç–≤–æ–ª—é—Ü–∏—è ¬´–Ω–∞—Å—Ç—Ä–æ–∏–ª–∞¬ª –Ω–∞—Å –Ω–∞ –∏–∑–±—ã—Ç–æ—á–Ω—É—é –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å. –ù–∞—à–∏ –ø—Ä–µ–¥–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—â–µ —Ç—Ä–µ–≤–æ–∂–∏–ª–∏—Å—å –∏ –±—ã—Å—Ç—Ä–µ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∏, –∏–º–µ–ª–∏ –±–æ–ª—å—à–µ —à–∞–Ω—Å–æ–≤ –≤—ã–∂–∏—Ç—å. –ü–æ—ç—Ç–æ–º—É —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–æ–∑–≥ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–ª —ç—Ç—É –≥–∏–ø–µ—Ä—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –•–æ—Ä–æ—à–∞—è –Ω–æ–≤–æ—Å—Ç—å –≤ —Ç–æ–º, —á—Ç–æ —Å–µ–π—á–∞—Å –º—ã –º–æ–∂–µ–º –µ—ë –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å ‚Äî —É –¥—Ä–µ–≤–Ω–µ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ —Ç–∞–∫–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–µ –±—ã–ª–æ."""
    
    main_text = "–ó–≤—É—á–∏—Ç —Å—Ç—Ä–∞–Ω–Ω–æ, –Ω–æ —Ç—Ä–µ–≤–æ–≥–∞ ‚Äî –Ω–µ –≤—Ä–∞–≥ üòå –û–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è: –≥—Ä–æ–º–∫–∞—è, –Ω–∞–≤—è–∑—á–∏–≤–∞—è, –Ω–æ —Å –æ–¥–Ω–æ–π —Ü–µ–ª—å—é ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å. –ò–Ω–æ–≥–¥–∞ —ç—Ç–∞ ¬´—Å–∏–≥–Ω–∞–ª–∫–∞¬ª —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–∂–µ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–µ—Ç."
    
    full_caption = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    await message.answer_photo(
        photo=image_file,
        caption=full_caption,
        parse_mode="HTML",
        reply_markup=get_step_keyboard(2)
    )

# –®–∞–≥ 2 -> –®–∞–≥ 3
@router.message(Day1Module1States.step_2, F.text == "üö® –¢—Ä–µ–≤–æ–≥–∞ –∫–∞–∫ —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è")
async def step_2_to_3(message: Message, state: FSMContext):
    """–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–≥–∞ 2 –∫ —à–∞–≥—É 3."""
    await state.set_state(Day1Module1States.step_3)
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
    import os
    from aiogram.types import FSInputFile
    
    image_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))), "assets", "d1m1_3.jpg")
    image_file = FSInputFile(image_path)
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–ü—Å–∏—Ö–æ–ª–æ–≥–∏ –Ω–∞–∑—ã–≤–∞—é—Ç —ç—Ç–æ ¬´–ª–æ–∂–Ω—ã–º–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è–º–∏ —Ç—Ä–µ–≤–æ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã¬ª. –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏, –≤—Ä–æ–¥–µ —ç–∫–∑–∞–º–µ–Ω–∞ –∏–ª–∏ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ —Å –Ω–æ–≤—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º, –Ω–µ –Ω–µ—Å—É—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π —É–≥—Ä–æ–∑—ã. –ù–æ –º–æ–∑–≥ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Ö –∫–∞–∫ ¬´–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞¬ª ‚Äî –∞ –¥–ª—è –¥—Ä–µ–≤–Ω–µ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –ø–æ—Ç–µ—Ä—è –æ–¥–æ–±—Ä–µ–Ω–∏—è –ø–ª–µ–º–µ–Ω–∏ –º–æ–≥–ª–∞ –±—ã—Ç—å —Ä–∞–≤–Ω–∞ –∏–∑–≥–Ω–∞–Ω–∏—é, —Ç–æ –µ—Å—Ç—å —É–≥—Ä–æ–∑–µ –∂–∏–∑–Ω–∏.

–ü–æ—ç—Ç–æ–º—É —Ä–µ–∞–∫—Ü–∏—è –æ—Ä–≥–∞–Ω–∏–∑–º–∞ –Ω–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –ø–µ—Ä–µ–¥ –∫–æ–ª–ª–µ–≥–∞–º–∏ –º–æ–∂–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ –≤—Å—Ç—Ä–µ—á—É —Å –º–µ–¥–≤–µ–¥–µ–º: —É—á–∞—â—ë–Ω–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏–µ, –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω—ã–µ –º—ã—à—Ü—ã, —Å–∫–∞—á—É—â–∏–µ –º—ã—Å–ª–∏. –ù–∞—É—á–∏–≤—à–∏—Å—å –ø–æ–Ω–∏–º–∞—Ç—å –ø—Ä–∏—Ä–æ–¥—É —ç—Ç–æ–π —Ä–µ–∞–∫—Ü–∏–∏, –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å –µ—ë –∫–∞–∫ ¬´—Å–±–æ–π¬ª –∏ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–≤–æ—é –ø–æ–ª—å–∑—É: –Ω–∞–ø—Ä–∏–º–µ—Ä, —ç–Ω–µ—Ä–≥–∏—è —Ç—Ä–µ–≤–æ–≥–∏ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å —Å–æ–±—Ä–∞—Ç—å—Å—è –∏ –≤—ã—Å—Ç—É–ø–∏—Ç—å —è—Ä–∫–æ."""
    
    main_text = "–ù–∞—à –º–æ–∑–≥ —Å–æ–∑–¥–∞–Ω, —á—Ç–æ–±—ã –∑–∞—â–∏—â–∞—Ç—å –Ω–∞—Å üß† –û–Ω –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –º–∏—Ä –≤–æ–∫—Ä—É–≥ –∏ –∏—â–µ—Ç —É–≥—Ä–æ–∑—ã. –ù–æ –∏–Ω–æ–≥–¥–∞ –æ–Ω –≤–∏–¥–∏—Ç –æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∞–º, –≥–¥–µ –µ—ë –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω–µ—Ç ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–¥ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ–º –∏–ª–∏ –≤–∞–∂–Ω—ã–º —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–º."
    
    full_caption = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    await message.answer_photo(
        photo=image_file,
        caption=full_caption,
        parse_mode="HTML",
        reply_markup=get_step_keyboard(3)
    )

# –®–∞–≥ 3 -> –®–∞–≥ 4
@router.message(Day1Module1States.step_3, F.text == "üëÄ –û–ø–∞—Å–Ω–æ—Å—Ç—å, –≥–¥–µ –µ—ë –Ω–µ—Ç")
async def step_3_to_4(message: Message, state: FSMContext):
    """–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–≥–∞ 3 –∫ —à–∞–≥—É 4."""
    await state.set_state(Day1Module1States.step_4)
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
    import os
    from aiogram.types import FSInputFile
    
    image_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))), "assets", "d1m1_4.jpg")
    image_file = FSInputFile(image_path)
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–¢–æ, —á—Ç–æ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å–∏–º–ø–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –û–Ω–∞ —Ä–∞–∑–≥–æ–Ω—è–µ—Ç —Å–µ—Ä–¥—Ü–µ –∏ –¥—ã—Ö–∞–Ω–∏–µ, —á—Ç–æ–±—ã —Ç–µ–ª–æ –ø–æ–ª—É—á–∏–ª–æ –±–æ–ª—å—à–µ —ç–Ω–µ—Ä–≥–∏–∏. –≠—Ç–æ –¥—Ä–µ–≤–Ω–∏–π –º–µ—Ö–∞–Ω–∏–∑–º ¬´–±–µ–π –∏–ª–∏ –±–µ–≥–∏¬ª. –û–Ω –∑–∞–¥—É–º–∞–Ω –¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è, –Ω–æ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –º–∏—Ä–µ –º—ã —á–∞—â–µ –æ—Å—Ç–∞—ë–º—Å—è –Ω–∞ –º–µ—Å—Ç–µ –∏ –ø–µ—Ä–µ–∂–∏–≤–∞–µ–º, –Ω–µ –¥–≤–∏–≥–∞—è—Å—å.

–ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ —Ç–µ–ª–æ ¬´—Å—Ö–æ–¥–∏—Ç —Å —É–º–∞¬ª, —Ö–æ—Ç—è –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –æ–Ω–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–∞—Å–∞–µ—Ç—Å—è —Å–∏–ª–∞–º–∏. –ï—Å–ª–∏ –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ç–µ—Ö–Ω–∏–∫–∏ –¥—ã—Ö–∞–Ω–∏—è –∏–ª–∏ –¥–≤–∏–∂–µ–Ω–∏—è, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é –≤ –Ω—É–∂–Ω–æ–µ —Ä—É—Å–ª–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ—Ä–æ—Ç–∫–∞—è —Ä–∞–∑–º–∏–Ω–∫–∞ –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–º –∏–ª–∏ —Å–ø–æ–∫–æ–π–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞—é—Ç ¬´—Å–±—Ä–æ—Å–∏—Ç—å –ª–∏—à–Ω–∏–π –ø–∞—Ä¬ª."""
    
    main_text = "–ü—Ä–µ–¥—Å—Ç–∞–≤—å —Å–∏—Ç—É–∞—Ü–∏—é: –∑–∞–≤—Ç—Ä–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ. –í—Å—ë –∏–¥—ë—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –Ω–æ —Å–µ—Ä–¥—Ü–µ –Ω–∞—á–∏–Ω–∞–µ—Ç –±–∏—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ ‚ù§Ô∏è‚Äçüî• –ª–∞–¥–æ–Ω–∏ –ø–æ—Ç–µ—é—Ç, –º—ã—Å–ª–∏ —Å–∫–∞—á—É—Ç. –≠—Ç–æ –Ω–µ –ø–æ—Ç–æ–º—É, —á—Ç–æ —á—Ç–æ-—Ç–æ –ø–ª–æ—Ö–æ–µ —Å–ª—É—á–∏–ª–æ—Å—å ‚Äî —Ç–∞–∫ —Ç–µ–ª–æ –≥–æ—Ç–æ–≤–∏—Ç —Ç–µ–±—è –∫ ¬´–±–∏—Ç–≤–µ¬ª."
    
    full_caption = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    await message.answer_photo(
        photo=image_file,
        caption=full_caption,
        parse_mode="HTML",
        reply_markup=get_step_keyboard(4)
    )

# –®–∞–≥ 4 -> –®–∞–≥ 5
@router.message(Day1Module1States.step_4, F.text == "üòÖ –ë—ã–ª–æ —Ç–∞–∫–æ–µ")
async def step_4_to_5(message: Message, state: FSMContext):
    """–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–≥–∞ 4 –∫ —à–∞–≥—É 5."""
    await state.set_state(Day1Module1States.step_5)
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
    import os
    from aiogram.types import FSInputFile
    
    image_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))), "assets", "d1m1_5.jpg")
    image_file = FSInputFile(image_path)
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–¢—Ä–µ–≤–æ–≥–∞ —á–∞—Å—Ç–æ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∫–∞–∫ ¬´–¥–µ—Ñ–µ–∫—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞¬ª, –Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –±–∞–∑–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ã–∂–∏–≤–∞–Ω–∏—è. –û–Ω–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω—ã–µ –∏ –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –Ω–∞—Å –±–æ–ª–µ–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∏ –±—ã—Å—Ç—Ä—ã–º–∏. –≠—Ç–æ –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å —Å –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª–µ–º –≤ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–æ–π —Å–µ—Ç–∏: –æ–Ω —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ –ø–æ—Ç–æ–º—É, —á—Ç–æ —Å–µ—Ç—å –ø–ª–æ—Ö–∞—è, –∞ –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏.

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç: –ª—é–¥–∏ —Å –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å—é –∏–Ω–æ–≥–¥–∞ –¥–∞–∂–µ –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç ‚Äî —É –Ω–∏—Ö –≤—ã—à–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º, –æ–Ω–∏ –ª—É—á—à–µ –ø—Ä–µ–¥—É–≥–∞–¥—ã–≤–∞—é—Ç —Ä–∏—Å–∫–∏. –í–∞–∂–Ω–æ –ª–∏—à—å –Ω–∞—É—á–∏—Ç—å—Å—è —É–ø—Ä–∞–≤–ª—è—Ç—å —ç—Ç–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–æ –ø–æ–º–æ–≥–∞–ª–æ, –∞ –Ω–µ –º–µ—à–∞–ª–æ."""
    
    main_text = "–ò –≤–æ—Ç –≥–ª–∞–≤–Ω—ã–π –º–æ–º–µ–Ω—Ç üëâ —Ç—Ä–µ–≤–æ–≥–∞ ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–∏–∑–Ω–∞–∫ —Å–ª–∞–±–æ—Å—Ç–∏. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–∏–≥–Ω–∞–ª: ¬´–í–Ω–∏–º–∞–Ω–∏–µ, –º–æ–∂–µ—Ç –±—ã—Ç—å —á—Ç–æ-—Ç–æ –≤–∞–∂–Ω–æ–µ¬ª. –û–Ω–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –º–æ–±–∏–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏–ª—ã, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–∏—Ç—É–∞—Ü–∏—è –Ω–µ —Ç–∞–∫–∞—è —É–∂ –∏ –æ–ø–∞—Å–Ω–∞—è."
    
    full_caption = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    await message.answer_photo(
        photo=image_file,
        caption=full_caption,
        parse_mode="HTML",
        reply_markup=get_step_keyboard(5)
    )

# –®–∞–≥ 5 -> –®–∞–≥ 6
@router.message(Day1Module1States.step_5, F.text == "üí™ –¢—Ä–µ–≤–æ–≥–∞ ‚Äî –Ω–µ —Å–ª–∞–±–æ—Å—Ç—å")
async def step_5_to_6(message: Message, state: FSMContext):
    """–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–≥–∞ 5 –∫ —à–∞–≥—É 6."""
    await state.set_state(Day1Module1States.step_6)
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
    import os
    from aiogram.types import FSInputFile
    
    image_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))), "assets", "d1m1_6.jpg")
    image_file = FSInputFile(image_path)
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–ó–¥–µ—Å—å —Å–Ω–æ–≤–∞ –∏–≥—Ä–∞–µ—Ç —Ä–æ–ª—å –∞–º–∏–≥–¥–∞–ª–∞ ‚Äî –æ–Ω–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç—Ä–µ–≤–æ–≥—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –æ—á–µ–Ω—å –≥—Ä–æ–º–∫–æ. –ù–æ —É –Ω–∞—Å –µ—Å—Ç—å ¬´–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–µ–≥—É–ª—è—Ç–æ—Ä –≥—Ä–æ–º–∫–æ—Å—Ç–∏¬ª ‚Äî –ø—Ä–µ—Ñ—Ä–æ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–æ—Ä–∞. –ö–æ–≥–¥–∞ –æ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞, —Ç—Ä–µ–≤–æ–≥–∞ —Å–Ω–∏–∂–∞–µ—Ç—Å—è, –∏ —Å–∏–≥–Ω–∞–ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å —Å–µ–±–µ —Ä–∞–¥–∏–æ, –∫–æ—Ç–æ—Ä–æ–µ —Å–ª–∏—à–∫–æ–º –≥—Ä–æ–º–∫–æ –∏–≥—Ä–∞–µ—Ç. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ª–æ–º–∞—Ç—å –ø—Ä–∏—ë–º–Ω–∏–∫, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç—å —Ä—É—á–∫—É –≥—Ä–æ–º–∫–æ—Å—Ç–∏. –ù–∞–≤—ã–∫–∏ —Å–∞–º–æ—Ä–µ–≥—É–ª—è—Ü–∏–∏ ‚Äî –¥—ã—Ö–∞–Ω–∏–µ, –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è ‚Äî –∏ –µ—Å—Ç—å —Ç–∞–∫–∏–µ ¬´—Ä—É—á–∫–∏¬ª, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –≤–µ—Ä–Ω—É—Ç—å –±–∞–ª–∞–Ω—Å."""
    
    main_text = "–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ —Ç—Ä–µ–≤–æ–≥–∞ —á–∞—Å—Ç–æ –ø–µ—Ä–µ–±–∞—Ä—â–∏–≤–∞–µ—Ç üôÉ –û–Ω–∞ –≤–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º ¬´–≤—Å—ë –≥–æ—Ä–∏—Ç¬ª, –∫–æ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã–ª–æ –±—ã –º–∞–ª–µ–Ω—å–∫–æ–π –ª–∞–º–ø–æ—á–∫–∏. –ü–æ—ç—Ç–æ–º—É –≤–∞–∂–Ω–æ —É—á–∏—Ç—å—Å—è —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å –µ—ë –≥—Ä–æ–º–∫–æ—Å—Ç—å."
    
    full_caption = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    await message.answer_photo(
        photo=image_file,
        caption=full_caption,
        parse_mode="HTML",
        reply_markup=get_step_keyboard(6)
    )

# –®–∞–≥ 6 -> –®–∞–≥ 7
@router.message(Day1Module1States.step_6, F.text == "üôÉ –ü–µ—Ä–µ–±–∞—Ä—â–∏–≤–∞–µ—Ç —Ç—Ä–µ–≤–æ–≥–∞")
async def step_6_to_7(message: Message, state: FSMContext):
    """–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–≥–∞ 6 –∫ —à–∞–≥—É 7."""
    await state.set_state(Day1Module1States.step_7)
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
    import os
    from aiogram.types import FSInputFile
    
    image_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))), "assets", "d1m1_7.jpg")
    image_file = FSInputFile(image_path)
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç —Ç—Ä–µ–≤–æ–≥–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏ –Ω–µ –Ω—É–∂–Ω–æ ‚Äî —ç—Ç–æ –≤—Å—ë —Ä–∞–≤–Ω–æ —á—Ç–æ –≤—ã–¥–µ—Ä–Ω—É—Ç—å —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—é –∏–∑ –∫–≤–∞—Ä—Ç–∏—Ä—ã. –ù–æ –º–æ–∂–Ω–æ –Ω–∞—É—á–∏—Ç—å—Å—è —É–ø—Ä–∞–≤–ª—è—Ç—å –µ—é —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∞ –±—ã–ª–∞ –ø–æ–º–æ—â–Ω–∏–∫–æ–º. –¢—Ä–µ–≤–æ–≥–∞ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç: ¬´–ó–¥–µ—Å—å –≤–∞–∂–Ω–æ –±—ã—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–º¬ª. –ê –º—ã —Ä–µ—à–∞–µ–º, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å.

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è –≥–æ–≤–æ—Ä–∏—Ç: –∫–ª—é—á ‚Äî –Ω–µ –≤ –±–æ—Ä—å–±–µ, –∞ –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏. –ï—Å–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ —Ç—Ä–µ–≤–æ–≥–µ –∫–∞–∫ –∫ –≥–æ—Å—Ç—é, –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –∑–∞ —Å—Ç–æ–ª –∏ –≤—ã—Å–ª—É—à–∞—Ç—å, –æ–Ω–∞ –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –∫–∞–∑–∞—Ç—å—Å—è –≤—Ä–∞–≥–æ–º. –¢–æ–≥–¥–∞ –ª–µ–≥—á–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è —Å ¬´–ø–∞–Ω–∏–∫–∏¬ª –Ω–∞ ¬´–ø–æ–ª–µ–∑–Ω—ã–π —Å–∏–≥–Ω–∞–ª¬ª."""
    
    main_text = "–ò —ç—Ç–æ —Ö–æ—Ä–æ—à–∞—è –Ω–æ–≤–æ—Å—Ç—å üòä –ú—ã –º–æ–∂–µ–º –Ω–∞—É—á–∏—Ç—å—Å—è –¥—Ä—É–∂–∏—Ç—å —Å —Ç—Ä–µ–≤–æ–≥–æ–π. –ù–µ –ø–æ–¥–∞–≤–ª—è—Ç—å –µ—ë, –Ω–µ –≥–Ω–∞—Ç—å –ø—Ä–æ—á—å, –∞ –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫–∞–∫ –∫ —Å–∏–≥–Ω–∞–ª—É, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø—Ä–∏–≥–ª—É—à–∏—Ç—å –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤ –Ω—É–∂–Ω–æ–µ —Ä—É—Å–ª–æ."
    
    full_caption = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    await message.answer_photo(
        photo=image_file,
        caption=full_caption,
        parse_mode="HTML",
        reply_markup=get_step_keyboard(7)
    )

# –®–∞–≥ 7 -> –®–∞–≥ 8
@router.message(Day1Module1States.step_7, F.text == "ü§î –î—Ä—É–∂–∏—Ç—å —Å —Ç—Ä–µ–≤–æ–≥–æ–π")
async def step_7_to_8(message: Message, state: FSMContext):
    """–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–≥–∞ 7 –∫ —à–∞–≥—É 8."""
    await state.set_state(Day1Module1States.step_8)
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
    import os
    from aiogram.types import FSInputFile
    
    image_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))), "assets", "d1m1_8.jpg")
    image_file = FSInputFile(image_path)
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–ö–æ–≥–¥–∞ –¥—ã—Ö–∞–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω—ã–º –∏ –≥–ª—É–±–æ–∫–∏–º, –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø–∞—Ä–∞—Å–∏–º–ø–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–µ—Ä–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚Äî —Ç–∞ —á–∞—Å—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–º–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–¥—ã—Ö –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ. –û–Ω–∞ –∫–∞–∫ –ø—Ä–æ—Ç–∏–≤–æ–≤–µ—Å —Ç—Ä–µ–≤–æ–≥–µ: –∑–∞–º–µ–¥–ª—è–µ—Ç —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏–µ, —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –≤ –º—ã—à—Ü–∞—Ö, —É—Å–ø–æ–∫–∞–∏–≤–∞–µ—Ç –º—ã—Å–ª–∏.

–£—á—ë–Ω—ã–µ –Ω–∞–∑—ã–≤–∞—é—Ç —ç—Ç–æ ¬´–æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é —Ç–µ–ª–∞ –∏ –º–æ–∑–≥–∞¬ª. –ú—ã –Ω–µ –º–æ–∂–µ–º –Ω–∞–ø—Ä—è–º—É—é –ø—Ä–∏–∫–∞–∑–∞—Ç—å –∞–º–∏–≥–¥–∞–ª–µ ¬´—É—Å–ø–æ–∫–æ–π—Å—è¬ª, –Ω–æ –º–æ–∂–µ–º —á–µ—Ä–µ–∑ –¥—ã—Ö–∞–Ω–∏–µ –¥–∞—Ç—å —Å–∏–≥–Ω–∞–ª: ¬´–û–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–µ—Ç, –º–æ–∂–Ω–æ —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è¬ª. –ò –º–æ–∑–≥ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —ç—Ç–æ—Ç —Å–∏–≥–Ω–∞–ª."""
    
    main_text = "–ü–µ—Ä–≤—ã–π —Å–ø–æ—Å–æ–± —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–µ–≤–æ–≥—É ‚Äî –¥—ã—Ö–∞–Ω–∏–µ üå¨Ô∏è –≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—Å–µ–≥–¥–∞ —Å —Ç–æ–±–æ–π. –ß–µ—Ä–µ–∑ –¥—ã—Ö–∞–Ω–∏–µ –º—ã –º–æ–∂–µ–º —É—Å–ø–æ–∫–æ–∏—Ç—å –Ω–µ—Ä–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏ –≤–µ—Ä–Ω—É—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º."
    
    full_caption = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    await message.answer_photo(
        photo=image_file,
        caption=full_caption,
        parse_mode="HTML",
        reply_markup=get_step_keyboard(8)
    )

# –®–∞–≥ 8 -> –®–∞–≥ 9
@router.message(Day1Module1States.step_8, F.text == "üå¨Ô∏è –î—ã—Ö–∞–Ω–∏–µ ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç")
async def step_8_to_9(message: Message, state: FSMContext):
    """–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–≥–∞ 8 –∫ —à–∞–≥—É 9."""
    await state.set_state(Day1Module1States.step_9)
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
    import os
    from aiogram.types import FSInputFile
    
    image_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))), "assets", "d1m1_9.jpg")
    image_file = FSInputFile(image_path)
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–≠—Ç–æ –∑–∞–º–∫–Ω—É—Ç—ã–π –∫—Ä—É–≥: —Ç—Ä–µ–≤–æ–≥–∞ —É—Å–∫–æ—Ä—è–µ—Ç –¥—ã—Ö–∞–Ω–∏–µ, –±—ã—Å—Ç—Ä–æ–µ –¥—ã—Ö–∞–Ω–∏–µ —É—Å–∏–ª–∏–≤–∞–µ—Ç —Ç—Ä–µ–≤–æ–≥—É. –£—á—ë–Ω—ã–µ –Ω–∞–∑—ã–≤–∞—é—Ç —ç—Ç–æ ¬´—Ñ–∏–∑–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–µ—Ç–ª—ë–π¬ª. –ù–æ –µ—Å—Ç—å –∏ –æ–±—Ä–∞—Ç–Ω–∞—è –¥–æ—Ä–æ–≥–∞: –µ—Å–ª–∏ –∑–∞–º–µ–¥–ª–∏—Ç—å –¥—ã—Ö–∞–Ω–∏–µ, —Ç–æ —Ü–µ–ø–æ—á–∫–∞ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞–∑–∞–¥, –∏ —Ç—Ä–µ–≤–æ–≥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç —Å—Ç–∏—Ö–∞—Ç—å.

–ú–µ–¥–ª–µ–Ω–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ ¬´—Ç–æ—Ä–º–æ–∑¬ª –¥–ª—è –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –û–Ω–æ –ø–æ—Å—ã–ª–∞–µ—Ç —Å–∏–≥–Ω–∞–ª –≤ –±–ª—É–∂–¥–∞—é—â–∏–π –Ω–µ—Ä–≤ ‚Äî –≤–∞–∂–Ω—É—é ¬´–ª–∏–Ω–∏—é —Å–≤—è–∑–∏¬ª –º–µ–∂–¥—É —Ç–µ–ª–æ–º –∏ –º–æ–∑–≥–æ–º. –≠—Ç–æ—Ç –Ω–µ—Ä–≤ –∫–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –æ—Ä–≥–∞–Ω–∏–∑–º –∏–∑ —Ä–µ–∂–∏–º–∞ —Ç—Ä–µ–≤–æ–≥–∏ –≤ —Ä–µ–∂–∏–º –ø–æ–∫–æ—è."""
    
    main_text = "–ó–∞–º–µ—Ç—å: –∫–æ–≥–¥–∞ —Ç—ã —Ç—Ä–µ–≤–æ–∂–∏—à—å—Å—è, –¥—ã—Ö–∞–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±—ã—Å—Ç—Ä—ã–º –∏ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–º. –≠—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É ¬´–±–æ–ª—å—à–µ –∫–∏—Å–ª–æ—Ä–æ–¥–∞ ‚Üí –±—ã—Å—Ç—Ä–µ–µ —Å–µ—Ä–¥—Ü–µ ‚Üí —Å–∏–ª—å–Ω–µ–µ —Ç—Ä–µ–≤–æ–≥–∞¬ª. –ï—Å–ª–∏ –¥—ã—Ö–∞–Ω–∏–µ –∑–∞–º–µ–¥–ª–∏—Ç—å, —Ç—Ä–µ–≤–æ–≥–∞ —Å–Ω–∏–∂–∞–µ—Ç—Å—è üîá"
    
    full_caption = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    await message.answer_photo(
        photo=image_file,
        caption=full_caption,
        parse_mode="HTML",
        reply_markup=get_step_keyboard(9)
    )

# –®–∞–≥ 9 -> –®–∞–≥ 10
@router.message(Day1Module1States.step_9, F.text == "üîÅ –ó–∞–º–µ–¥–ª–∏—Ç—å –¥—ã—Ö–∞–Ω–∏–µ")
async def step_9_to_10(message: Message, state: FSMContext):
    """–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–≥–∞ 9 –∫ —à–∞–≥—É 10."""
    await state.set_state(Day1Module1States.step_10)
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
    import os
    from aiogram.types import FSInputFile
    
    image_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))), "assets", "d1m1_10.jpg")
    image_file = FSInputFile(image_path)
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–¢–∞–∫–æ–π —Ä–∏—Ç–º –Ω–µ —Å–ª—É—á–∞–π–Ω—ã–π. –ë–æ–ª–µ–µ –¥–ª–∏–Ω–Ω—ã–π –≤—ã–¥–æ—Ö –ø–æ–º–æ–≥–∞–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å ¬´—Ç–æ—Ä–º–æ–∑—è—â—É—é¬ª —Å–∏—Å—Ç–µ–º—É –æ—Ä–≥–∞–Ω–∏–∑–º–∞. –í–æ –≤—Ä–µ–º—è –≤—ã–¥–æ—Ö–∞ —Å–µ—Ä–¥—Ü–µ –±—å—ë—Ç—Å—è —á—É—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –∞ –º–æ–∑–≥ –ø–æ–ª—É—á–∞–µ—Ç —Å–∏–≥–Ω–∞–ª, —á—Ç–æ –æ–ø–∞—Å–Ω–æ—Å—Ç—å –º–∏–Ω–æ–≤–∞–ª–∞.

–≠—Ç–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–∞–∂–µ –≤ –∫–ª–∏–Ω–∏–∫–∞—Ö –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏. –û–Ω–∞ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç–∞, —á—Ç–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–µ—Ç—è–º –∏ –≤–∑—Ä–æ—Å–ª—ã–º, –∏ –µ—ë –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≥–¥–µ —É–≥–æ–¥–Ω–æ: –Ω–∞ —ç–∫–∑–∞–º–µ–Ω–µ, –≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ, –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º –∑–≤–æ–Ω–∫–æ–º."""
    
    main_text = "–ü–æ–ø—Ä–æ–±—É–µ–º –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å üëå –°–¥–µ–ª–∞–π –≤–¥–æ—Ö –Ω–∞ 4 —Å–µ–∫—É–Ω–¥—ã, –∞ –≤—ã–¥–æ—Ö ‚Äî –Ω–∞ 6. –ü–æ–≤—Ç–æ—Ä–∏ –¥–≤–∞ –∫—Ä—É–≥–∞. –°—á–∏—Ç–∞–π –≤ —É–º–µ –∏–ª–∏ –ø–æ –ø–∞–ª—å—Ü–∞–º ‚Äî —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –¥–µ—Ä–∂–∞—Ç—å —Ä–∏—Ç–º."
    
    full_caption = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    await message.answer_photo(
        photo=image_file,
        caption=full_caption,
        parse_mode="HTML",
        reply_markup=get_step_keyboard(10)
    )

# –®–∞–≥ 10 -> –®–∞–≥ 11 (–í–∏–¥–µ–æ –ø—Ä–∞–∫—Ç–∏–∫–∏)
@router.message(Day1Module1States.step_10, F.text == "‚è±Ô∏è –í–¥–æ—Ö 4 ‚Äî –≤—ã–¥–æ—Ö 6")
async def step_10_to_11(message: Message, state: FSMContext):
    """–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–≥–∞ 10 –∫ —à–∞–≥—É 11."""
    await state.set_state(Day1Module1States.step_11)
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤–∏–¥–µ–æ —Å —Ç–µ–∫—Å—Ç–æ–º
    import os
    from aiogram.types import FSInputFile
    
    video_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))), "assets", "practice_1.mp4")
    video_file = FSInputFile(video_path)
    
    await message.answer_video(
        video=video_file,
        caption="üßò –ü–µ—Ä–≤–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –∫—É—Ä—Å–∞ ‚Äî –¥—ã—Ö–∞–Ω–∏–µ 4‚Äì6.\n–°–º–æ—Ç—Ä–∏ –Ω–∞ –≤–∏–¥–µ–æ: üîΩ –∫—Ä—É–≥ —Å—É–∂–∞–µ—Ç—Å—è ‚Äî –≤–¥–æ—Ö, üîº —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è ‚Äî –≤—ã–¥–æ—Ö.\n‚è± –ü–æ–¥—ã—à–∏ —Ç–∞–∫ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç —Å —Ç–∞–π–º–µ—Ä–æ–º.",
        reply_markup=get_step_keyboard(11)
    )

# –®–∞–≥ 11 -> –®–∞–≥ 12 (–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏)
@router.message(Day1Module1States.step_11, F.text == "üòä –°—Ç–∞–ª–æ —Å–ø–æ–∫–æ–π–Ω–µ–µ")
async def step_11_to_12(message: Message, state: FSMContext):
    """–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–≥–∞ 11 –∫ —à–∞–≥—É 12."""
    await state.set_state(Day1Module1States.step_12)
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
    import os
    from aiogram.types import FSInputFile
    
    image_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))), "assets", "d1m1_11.jpg")
    image_file = FSInputFile(image_path)
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–¢–æ, —á—Ç–æ —Ç—ã –æ—â—É—â–∞–µ—à—å, —Å–≤—è–∑–∞–Ω–æ —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –°–µ—Ä–¥—Ü–µ –∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è, –º—ã—à—Ü—ã –ø–æ–ª—É—á–∞—é—Ç –º–µ–Ω—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤ ¬´–≥–æ—Ç–æ–≤—å—Å—è –∫ –±–æ—é¬ª, –∞ –º–æ–∑–≥ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –±–æ–ª–µ–µ —Å–ø–æ–∫–æ–π–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã. –≠—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ —Ç–æ, –∫–∞–∫ –∫–æ–º–ø—å—é—Ç–µ—Ä –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç ¬´—à—É–º–µ—Ç—å¬ª –∏ –ø–µ—Ä–µ–≥—Ä–µ–≤–∞—Ç—å—Å—è, –∫–æ–≥–¥–∞ —Å–Ω–∏–∂–∞–µ—Ç—Å—è –Ω–∞–≥—Ä—É–∑–∫–∞.

–£—á—ë–Ω—ã–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç: –¥–∞–∂–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–∏–∫–ª–æ–≤ –¥—ã—Ö–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω—ã —Å–Ω–∏–∑–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –∫–æ—Ä—Ç–∏–∑–æ–ª–∞ ‚Äî –≥–æ—Ä–º–æ–Ω–∞ —Å—Ç—Ä–µ—Å—Å–∞. –ò –µ—Å–ª–∏ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å —ç—Ç–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ, –æ—Ä–≥–∞–Ω–∏–∑–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ —É—Å—Ç–æ–π—á–∏–≤—ã–º –∫ –±—É–¥—É—â–∏–º —Å—Ç—Ä–µ—Å—Å–∞–º."""
    
    main_text = "–•–æ—Ä–æ—à–æ üëè –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ: –ø–æ—Å–ª–µ —ç—Ç–∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥—ã—Ö–∞–Ω–∏–π —Ç–µ–ª–æ —á—É—Ç—å —Ä–∞—Å—Å–ª–∞–±–ª—è–µ—Ç—Å—è, –º—ã—Å–ª–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–ø–æ–∫–æ–π–Ω–µ–µ. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π, –Ω–æ –º–æ—â–Ω—ã–π —Å–ø–æ—Å–æ–± ¬´—Å–Ω–∏–∑–∏—Ç—å –≥—Ä–æ–º–∫–æ—Å—Ç—å¬ª —Ç—Ä–µ–≤–æ–≥–∏."
    
    full_caption = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    await message.answer_photo(
        photo=image_file,
        caption=full_caption,
        parse_mode="HTML",
        reply_markup=get_step_keyboard(12)
    )

# –®–∞–≥ 12 -> –®–∞–≥ 13 (–í—ã–≤–æ–¥)
@router.message(Day1Module1States.step_12, F.text == "üåø –õ—É—á—à–µ")
async def step_12_to_13(message: Message, state: FSMContext):
    """–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–≥–∞ 12 –∫ —à–∞–≥—É 13."""
    await state.set_state(Day1Module1States.step_13)
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å: —Ç—Ä–µ–≤–æ–≥–∞ ‚Äî —ç—Ç–æ –Ω–µ –±–æ–ª–µ–∑–Ω—å, –∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –æ—Ä–≥–∞–Ω–∏–∑–º–∞. –ù–æ —É –Ω–∞—Å –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–ª–∏—è—Ç—å –Ω–∞ –µ—ë –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å. –î—ã—Ö–∞–Ω–∏–µ ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–æ —Å–≤—è–∑–∞–Ω–æ –Ω–∞–ø—Ä—è–º—É—é —Å —Ä–∞–±–æ—Ç–æ–π –º–æ–∑–≥–∞.

–ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏, —Ç—ã —Ç—Ä–µ–Ω–∏—Ä—É–µ—à—å ¬´–º—ã—à—Ü—É —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è¬ª ‚Äî —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º. –°–æ –≤—Ä–µ–º–µ–Ω–µ–º —ç—Ç–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–∏–≤—ã—á–∫–æ–π, –∏ —Ç—Ä–µ–≤–æ–≥–∞ —É–∂–µ –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–±–æ–π, –∞ —Ç—ã —É–ø—Ä–∞–≤–ª—è–µ—à—å –µ—é."""
    
    main_text = "–ò—Ç–∞–∫, –≤—ã–≤–æ–¥: —Ç—Ä–µ–≤–æ–≥–∞ —Å–∞–º–∞ –ø–æ —Å–µ–±–µ –Ω–µ –æ–ø–∞—Å–Ω–∞, –æ–Ω–∞ –ª–∏—à—å —Å–∏–≥–Ω–∞–ª. –ù–æ —É —Ç–µ–±—è –µ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ‚Äî –¥—ã—Ö–∞–Ω–∏–µ. –¢—ã –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤—Å–µ–≥–¥–∞, –∫–æ–≥–¥–∞ —Ç—Ä–µ–≤–æ–≥–∞ —Å–ª–∏—à–∫–æ–º –Ω–∞—Å—Ç–æ–π—á–∏–≤–∞."
    
    full_message = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    await message.answer(
        text=full_message,
        parse_mode="HTML",
        reply_markup=get_step_keyboard(13)
    )

# –®–∞–≥ 13 -> –®–∞–≥ 14 (–ú–æ—Ç–∏–≤–∞—Ü–∏—è)
@router.message(Day1Module1States.step_13, F.text == "‚öñÔ∏è –¢—Ä–µ–≤–æ–≥–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–∏–≥–Ω–∞–ª")
async def complete_day_1_module_1(message: Message, state: FSMContext):
    """–ó–∞–≤–µ—Ä—à–∞–µ—Ç –ø–µ—Ä–≤—ã–π –º–æ–¥—É–ª—å."""
    import database as db
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç–æ–π
    quote_text = """–ú–æ–∑–≥ —É—á–∏—Ç—Å—è —á–µ—Ä–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ. –ö–æ–≥–¥–∞ –º—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º, —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–≤—è–∑–∏. –≠—Ç–æ –∫–∞–∫ –ø—Ä–æ—Ç–∞–ø—Ç—ã–≤–∞—Ç—å —Ç—Ä–æ–ø–∏–Ω–∫—É –≤ –ª–µ—Å—É: —Å–Ω–∞—á–∞–ª–∞ —Ç—Ä—É–¥–Ω–æ –∏ –Ω–µ–ø—Ä–∏–≤—ã—á–Ω–æ, –Ω–æ –ø–æ—Ç–æ–º –ø—É—Ç—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª—ë–≥–∫–∏–º –∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º.

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –¥–∞–∂–µ 5‚Äì10 –º–∏–Ω—É—Ç —Ä–µ–≥—É–ª—è—Ä–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ —Å–ø–æ—Å–æ–±–Ω—ã –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã: —á–µ–ª–æ–≤–µ–∫ –±—ã—Å—Ç—Ä–µ–µ –∑–∞–º–µ—á–∞–µ—Ç —Ç—Ä–µ–≤–æ–≥—É –∏ –ª–µ–≥—á–µ –µ—ë —Å–Ω–∏–∂–∞–µ—Ç. –≠—Ç–æ –Ω–µ ¬´—Ä–∞–∑–æ–≤—ã–π —Ç—Ä—é–∫¬ª, –∞ –Ω–∞–≤—ã–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∞—Å—Ç—å—é —Ç–µ–±—è."""
    
    main_text = "–°–µ–≥–æ–¥–Ω—è –º—ã –µ—â—ë –¥–≤–∞–∂–¥—ã –≤–µ—Ä–Ω—ë–º—Å—è –∫ —ç—Ç–æ–π –ø—Ä–∞–∫—Ç–∏–∫–µ: üåû –¥–Ω—ë–º –∏ üåô –≤–µ—á–µ—Ä–æ–º.\n–ß–µ–º —á–∞—â–µ –±—É–¥–µ—à—å –ø—Ä–æ–±–æ–≤–∞—Ç—å, —Ç–µ–º –ø—Ä–∏–≤—ã—á–Ω–µ–µ —Å—Ç–∞–Ω–µ—Ç —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚öñÔ∏è‚ú®"
    
    full_message = f"{main_text}\n\n<blockquote expandable>{quote_text}</blockquote>"
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–≤–µ—Ä—à–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    await message.answer(
        text=full_message,
        parse_mode="HTML"
    )
    
    # –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–∫–ª–∞–¥–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –º–æ–¥—É–ª—å
    user_id = message.from_user.id
    await db.update_user_bookmark(user_id, course_id=1, day=1, module=2)
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
    from handlers.course_flow import show_main_menu
    await state.clear()
    await show_main_menu(message, user_id)

# –§—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–æ–¥—É–ª—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ step_13_to_14

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –º–æ–¥—É–ª—è
@router.message(Day1Module1States.step_1, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
@router.message(Day1Module1States.step_2, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
@router.message(Day1Module1States.step_3, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
@router.message(Day1Module1States.step_4, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
@router.message(Day1Module1States.step_5, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
@router.message(Day1Module1States.step_6, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
@router.message(Day1Module1States.step_7, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
@router.message(Day1Module1States.step_8, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
@router.message(Day1Module1States.step_9, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
@router.message(Day1Module1States.step_10, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
@router.message(Day1Module1States.step_11, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
@router.message(Day1Module1States.step_12, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
@router.message(Day1Module1States.step_13, F.text == "üè† –í –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é")
# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è step_14 —É–±—Ä–∞–Ω, —Ç–∞–∫ –∫–∞–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
async def back_to_main_menu_from_module(message: Message, state: FSMContext):
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é."""
    from handlers.course_flow import show_main_menu
    await state.clear()
    await show_main_menu(message, message.from_user.id)